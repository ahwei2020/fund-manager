<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="åŸºé‡‘ç®¡ç†åŠ©æ‰‹ - ä¸ªäººåŸºé‡‘æŒä»“ç®¡ç†å·¥å…·">
  <title>åŸºé‡‘ç®¡ç†åŠ©æ‰‹</title>

  <!-- CSS æ ·å¼ -->
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/responsive.css">

  <style>
    /* é¦–é¡µç‰¹å®šæ ·å¼ */
    .summary-card {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
      color: white;
      padding: var(--spacing-lg);
      border-radius: var(--radius-lg);
      margin-bottom: var(--spacing-md);
    }

    .summary-total {
      font-size: var(--font-size-sm);
      opacity: 0.9;
      margin-bottom: var(--spacing-xs);
    }

    .summary-amount {
      font-size: 32px;
      font-weight: var(--font-weight-bold);
      margin-bottom: var(--spacing-sm);
    }

    .summary-profit {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      font-size: var(--font-size-md);
    }

    .summary-profit.positive {
      color: #ffcccc;
    }

    .summary-profit.negative {
      color: #ccffcc;
    }

    .holding-item {
      background-color: var(--bg-card);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-sm);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .holding-item:active {
      transform: scale(0.98);
    }

    .holding-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: var(--spacing-sm);
    }

    .holding-name {
      font-size: var(--font-size-md);
      font-weight: var(--font-weight-bold);
      color: var(--text-primary);
      margin-bottom: 4px;
    }

    .holding-code {
      font-size: var(--font-size-xs);
      color: var(--text-secondary);
    }

    .holding-profit {
      text-align: right;
    }

    .holding-profit-amount {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-bold);
    }

    .holding-profit-rate {
      font-size: var(--font-size-sm);
    }

    .holding-info {
      display: flex;
      justify-content: space-between;
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }

    .holding-day-change {
      font-size: var(--font-size-xs);
    }

    .refresh-btn {
      position: absolute;
      top: var(--spacing-md);
      right: var(--spacing-md);
      padding: var(--spacing-xs);
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.2s ease;
    }

    .refresh-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .refresh-btn.rotating {
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .section-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-md);
    }

    .section-title-text {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-bold);
      color: var(--text-primary);
    }

    .fab {
      position: fixed;
      bottom: 80px;
      right: var(--spacing-md);
      width: 56px;
      height: 56px;
      background-color: var(--primary-color);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow: var(--shadow-lg);
      cursor: pointer;
      z-index: 50;
      transition: transform 0.2s ease;
    }

    .fab:hover {
      transform: scale(1.1);
    }

    .fab:active {
      transform: scale(0.95);
    }

    .loading-skeleton {
      background: linear-gradient(90deg, var(--bg-secondary) 25%, var(--bg-tertiary) 50%, var(--bg-secondary) 75%);
      background-size: 200% 100%;
      animation: skeleton-loading 1.5s infinite;
    }

    @keyframes skeleton-loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
  </style>
</head>
<body>
  <!-- å¤´éƒ¨ -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <h1 class="header-title">æˆ‘çš„åŸºé‡‘</h1>
        <button class="btn btn-icon" id="settingsBtn" aria-label="è®¾ç½®">
          âš™ï¸
        </button>
      </div>
    </div>
  </header>

  <!-- ä¸»å†…å®¹ -->
  <main class="container" style="padding-bottom: 100px;">
    <!-- æŒä»“æ€»è§ˆå¡ç‰‡ -->
    <div class="summary-card" id="summaryCard">
      <div class="summary-total">æŒä»“æ€»é¢</div>
      <div class="summary-amount" id="totalAmount">Â¥0.00</div>
      <div class="summary-profit" id="totalProfit">
        <span id="profitIcon">ğŸ“Š</span>
        <span id="profitText">åŠ è½½ä¸­...</span>
      </div>
      <div class="refresh-btn" id="refreshBtn" title="åˆ·æ–°æ•°æ®">
        ğŸ”„
      </div>
    </div>

    <!-- æŒä»“åŸºé‡‘åˆ—è¡¨ -->
    <div class="section-title">
      <span class="section-title-text">æŒä»“åŸºé‡‘</span>
      <span class="text-secondary text-sm" id="holdingCount">0 åª</span>
    </div>

    <div id="holdingsList">
      <!-- æŒä»“åˆ—è¡¨å°†é€šè¿‡ JS åŠ¨æ€ç”Ÿæˆ -->
    </div>

    <!-- ç©ºçŠ¶æ€ -->
    <div class="empty-state hidden" id="emptyState">
      <div class="empty-state-icon">ğŸ“ˆ</div>
      <div class="empty-state-text">è¿˜æ²¡æœ‰æ·»åŠ ä»»ä½•åŸºé‡‘</div>
      <button class="btn btn-primary" onclick="location.href='add-fund.html'">
        æ·»åŠ ç¬¬ä¸€åªåŸºé‡‘
      </button>
    </div>
  </main>

  <!-- æ‚¬æµ®æ·»åŠ æŒ‰é’® -->
  <div class="fab" id="fabAdd" onclick="location.href='add-fund.html'">
    +
  </div>

  <!-- åº•éƒ¨å¯¼èˆª -->
  <nav class="bottom-nav">
    <a href="index.html" class="bottom-nav-item active">
      <span class="bottom-nav-item-icon">ğŸ“Š</span>
      <span>æŒä»“</span>
    </a>
    <a href="transactions.html" class="bottom-nav-item">
      <span class="bottom-nav-item-icon">ğŸ“</span>
      <span>äº¤æ˜“</span>
    </a>
    <a href="settings.html" class="bottom-nav-item">
      <span class="bottom-nav-item-icon">âš™ï¸</span>
      <span>è®¾ç½®</span>
    </a>
  </nav>

  <!-- JavaScript -->
  <script src="js/storage.js"></script>
  <script src="js/fund-api.js"></script>
  <script src="js/calculator.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
